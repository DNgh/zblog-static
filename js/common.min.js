/**
 * ZBLOG JQuery
 * ------------------
 */
$(function(){$(window).scroll(function(event){var len=$(this).scrollTop();if(len>=100){$("#goTop").show()}else{$("#goTop").hide()}});$("#goTop").click(function(){$('html,body').animate({scrollTop:0},1000)})})function doPost(to,p){var reqArticleForm=document.createElement("form");reqArticleForm.method="post";reqArticleForm.action=to;for(var i in p){var paramInput=document.createElement("input");paramInput.setAttribute("name",i);paramInput.setAttribute("value",p[i]);reqArticleForm.appendChild(paramInput)}document.body.appendChild(reqArticleForm);reqArticleForm.submit();document.body.removeChild(reqArticleForm)}function pageFunction(to,map){$("#about").hide();$("#contact").hide();$("#detail").hide();$("#preNext").hide();$("#commentArea").hide();var firstPage=1;$.ajax({url:to,datatype:'json',type:"Post",data:convertAjaxData(firstPage,map),success:function(data){var html='';if(data!=null){$.each(eval("("+data+")").list,function(index,item){html+='<div class="post"><h3><a href="javascript:void(0);" onclick="doPost(\'article/show\', {\'articleKey\':\''+item.id+'\'})">'+item.title+'</a></h3><p class="text-muted">'+item.description+'</p><ul class="list-inline"><li><i class="fa fa-calendar margin-r-5"></i>发表时间：'+item.createTime+'</li><li><i class="fa fa-eye margin-r-5"></i>阅读数：'+item.readNum+'</li><li><i class="fa fa-comments-o margin-r-5"></i>评论数：'+item.commentNum+'</li></ul></div>'});$("#articlePanel").empty();$("#articlePanel").append(html);$('#homePaginator').empty();var totalPages=eval("("+data+")").totalPages;var currentPage=eval("("+data+")").currentPage;var options={currentPage:currentPage,totalPages:totalPages,size:"large",bootstrapMajorVersion:3,alignment:"center",numberOfPages:5,useBootstrapTooltip:true,tooltipTitles:function(type,page,current){switch(type){case"first":return"跳转到首页";case"prev":return"跳转到上一页";case"next":return"跳转到下一页";case"last":return"跳转到尾页";case"page":return"跳转到第"+page+"页"}},shouldShowPage:true,itemContainerClass:function(type,page,current){return(type=="page"&&page===current)?"active":"pointer-cursor"},itemTexts:function(type,page,current){switch(type){case"first":return"首页";case"prev":return"上一页";case"next":return"下一页";case"last":return"末页";case"page":return page}},onPageClicked:function(event,originalEvent,type,page){$.ajax({url:to,type:"Post",data:convertAjaxData(page,map),success:function(result){if(result!=null){html='';$.each(eval("("+result+")").list,function(index,item){html+='<div class="post"><h3><a href="javascript:void(0);" onclick="doPost(\'article/show\', {\'articleKey\':\''+item.id+'\'})">'+item.title+'</a></h3><p class="text-muted">'+item.description+'</p><ul class="list-inline"><li><i class="fa fa-calendar margin-r-5"></i>发表时间：'+item.createTime+'</li><li><i class="fa fa-eye margin-r-5"></i>阅读数：'+item.readNum+'</li><li><i class="fa fa-comments-o margin-r-5"></i>评论数：'+item.commentNum+'</li></ul></div>'});$("#articlePanel").empty();$("#articlePanel").append(html)}}})}};$('#homePaginator').bootstrapPaginator(options)}}})}function convertAjaxData(page,map){var data="page="+page;for(var i in map){data=data+"&"+i+"="+map[i]}return data}function convertAjaxDataNP(map){var data="";for(var i in map){data=data+"&"+i+"="+map[i]}return data}var convertLineCtrl=function(strValue){return strValue.replace(/\r\n/g,'<br/>').replace(/\r/g,'<br/>').replace(/\n/g,'<br/>').replace(/\s/g,'&nbsp;')}function deleteLayerObjAjax(path,obj,map,index){$.ajax({url:path,datatype:'json',type:"POST",data:convertAjaxDataNP(map),success:function(result){if(result.success==true){obj.del();$(".layui-laypage-btn").click();layer.close(index);layer.msg("操作成功")}else{layer.alert(result.message,{icon:5})}},error:function(XMLHttpRequest,textStatus,errorThrown){layer.alert("请求失败",{icon:5})}})}function initNavBarStatus(menuId,subMenuId){if(menuId==null||menuId==undefined||menuId==""){}else{$("#"+menuId).addClass("active")}if(subMenuId==null||subMenuId==undefined||subMenuId==""){}else{$("#"+subMenuId).addClass("active")}}function initCategoryIconList(iconId,iconVal){var iconList=["fa-inbox","fa-server","fa-leaf","fa-bookmark","fa-link","fa-cloud","fa-database","fa-cubes","fa-bolt","fa-cog","fa-exchange","fa-globe","fa-language","fa-lock","fa-send","fa-shield","fa-sitemap","fa-support","fa-desktop","fa-apple","fa-android","fa-html5","fa-css3","fa-linux","fa-windows","fa-film","fa-pencil","fa-flask","fa-code","fa-dashboard"]}
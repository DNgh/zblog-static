$(function(){$(window).scroll(function(b){var a=$(this).scrollTop();if(a>=100){$("#goTop").show()}else{$("#goTop").hide()}});$("#goTop").click(function(){$("html,body").animate({scrollTop:0},1000)})});function doPost(e,d){var c=document.createElement("form");c.method="post";c.action=e;for(var b in d){var a=document.createElement("input");a.setAttribute("name",b);a.setAttribute("value",d[b]);c.appendChild(a)}document.body.appendChild(c);c.submit();document.body.removeChild(c)}function pageFunction(to,map){$("#about").hide();$("#contact").hide();$("#detail").hide();$("#preNext").hide();$("#commentArea").hide();var firstPage=1;$.ajax({url:to,datatype:"json",type:"Post",data:convertAjaxData(firstPage,map),success:function(data){var html="";if(data!=null){$.each(eval("("+data+")").list,function(index,item){html+="<div class=\"post\"><h3><a href=\"javascript:void(0);\" onclick=\"doPost('article/show', {'articleKey':'"+item.id+"'})\">"+item.title+'</a></h3><p class="text-muted">'+item.description+'</p><ul class="list-inline"><li><i class="fa fa-calendar margin-r-5"></i>发表时间：'+item.createTime+'</li><li><i class="fa fa-eye margin-r-5"></i>阅读数：'+item.readNum+'</li><li><i class="fa fa-comments-o margin-r-5"></i>评论数：'+item.commentNum+"</li></ul></div>"});$("#articlePanel").empty();$("#articlePanel").append(html);$("#homePaginator").empty();var totalPages=eval("("+data+")").totalPages;var currentPage=eval("("+data+")").currentPage;var options={currentPage:currentPage,totalPages:totalPages,size:"large",bootstrapMajorVersion:3,alignment:"center",numberOfPages:5,useBootstrapTooltip:true,tooltipTitles:function(type,page,current){switch(type){case"first":return"跳转到首页";case"prev":return"跳转到上一页";case"next":return"跳转到下一页";case"last":return"跳转到尾页";case"page":return"跳转到第"+page+"页"}},shouldShowPage:true,itemContainerClass:function(type,page,current){return(type=="page"&&page===current)?"active":"pointer-cursor"},itemTexts:function(type,page,current){switch(type){case"first":return"首页";case"prev":return"上一页";case"next":return"下一页";case"last":return"末页";case"page":return page}},onPageClicked:function(event,originalEvent,type,page){$.ajax({url:to,type:"Post",data:convertAjaxData(page,map),success:function(result){if(result!=null){html="";$.each(eval("("+result+")").list,function(index,item){html+="<div class=\"post\"><h3><a href=\"javascript:void(0);\" onclick=\"doPost('article/show', {'articleKey':'"+item.id+"'})\">"+item.title+'</a></h3><p class="text-muted">'+item.description+'</p><ul class="list-inline"><li><i class="fa fa-calendar margin-r-5"></i>发表时间：'+item.createTime+'</li><li><i class="fa fa-eye margin-r-5"></i>阅读数：'+item.readNum+'</li><li><i class="fa fa-comments-o margin-r-5"></i>评论数：'+item.commentNum+"</li></ul></div>"});$("#articlePanel").empty();$("#articlePanel").append(html)}}})}};$("#homePaginator").bootstrapPaginator(options)}}})}function convertAjaxData(c,d){var b="page="+c;for(var a in d){b=b+"&"+a+"="+d[a]}return b}function convertAjaxDataNP(c){var b="";for(var a in c){b=b+"&"+a+"="+c[a]}return b}var convertLineCtrl=function(a){return a.replace(/\r\n/g,"<br/>").replace(/\r/g,"<br/>").replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")};function deleteLayerObjAjax(d,c,b,a){$.ajax({url:d,datatype:"json",type:"POST",data:convertAjaxDataNP(b),success:function(e){if(e.success==true){c.del();$(".layui-laypage-btn").click();layer.close(a);layer.msg("操作成功")}else{layer.alert(e.message,{icon:5})}},error:function(e,g,f){layer.alert("请求失败",{icon:5})}})}function initNavBarStatus(b,a){if(b==null||b==undefined||b==""){}else{$("#"+b).addClass("active")}if(a==null||a==undefined||a==""){}else{$("#"+a).addClass("active")}}function initCategoryIconList(c,a){var b=["fa-inbox","fa-server","fa-leaf","fa-bookmark","fa-link","fa-cloud","fa-database","fa-cubes","fa-bolt","fa-cog","fa-exchange","fa-globe","fa-language","fa-lock","fa-send","fa-shield","fa-sitemap","fa-support","fa-desktop","fa-apple","fa-android","fa-html5","fa-css3","fa-linux","fa-windows","fa-film","fa-pencil","fa-flask","fa-code","fa-dashboard"]};